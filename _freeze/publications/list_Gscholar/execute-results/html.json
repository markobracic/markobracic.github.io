{
  "hash": "c8a964eee02ecbd80e0735dd48c28a69",
  "result": {
    "markdown": "::: {.cell}\n\n```{.r .cell-code}\nlibrary(scholar)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'scholar' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyverse' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'ggplot2' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tibble' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'tidyr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'readr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'purrr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'dplyr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'stringr' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'forcats' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.1     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n✔ lubridate 1.8.0     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(glue)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'glue' was built under R version 4.2.3\n```\n:::\n\n```{.r .cell-code}\n# based on https://thackl.github.io/automatically-update-publications-with-R-scholar\n\n# my google scholar user id from my profile url\n# https://scholar.google.com/citations?hl=en&user=nNY7GfwAAAAJ\nbracic <- \"nNY7GfwAAAAJ\"\n\n# pull from google and adjust\nhtml_1 <- get_publications(bracic) %>% \n  as_tibble %>% arrange(desc(year)) %>%\n  mutate(\n    author = str_replace_all(author, \"M Bračić\", \"<b>M Bračić</b>\"), # Make the author's name bold\n    journal = ifelse(year == 2015, str_replace_all(journal, '\"', ''), journal), # Remove double quotes from journal if year is 2015\n    number = ifelse(year == 2015, str_replace_all(number, '\"', ''), number)# Remove double quotes from number if year is 2015\n  )\n\n# convert to htlm table - the ugly way ;)\nhtml_2 <- html_1 %>%\n  split(.$year) %>%\n    map(function(x){\n      x <- x %>%\n        glue_data('<tr><td width=\"100%\">{author} ({year}) <a href=\"https://scholar.google.com/scholar?oi=bibs&cluster={cid}&btnI=1&hl=en\">{title}</a>, {journal}, {number}</td></tr>') %>%\n        str_replace_all( \",\\\\s*</td></tr>\", \"</td></tr>\") %>% #remove commas if it is the last character\n        str_replace_all(\"(, ,)\", \" \") # remove double commas\n      x <- c('<table class=\"publication-table\" border=\"10px solid blue\" cellspacing=\"0\" cellpadding=\"6\" rules=\"\", frame=\"\"><tbody>', x, '</tbody></table>')\n      return(x);\n    }) %>% rev\n    \n    \nhtml_3 <- map2(names(html_2) %>% paste0(\"<h3>\", ., \"</h3>\"), html_2, c) %>% unlist\n \nhtml_4 <- c(\n  paste0('<p style=\"text-align: center; margin-top: -40px;\"><small>Last updated <i>',\n         format(Sys.Date(), format=\"%B %d, %Y\"),\n         '&ndash; Pulled automatically from my <a href=\"https://scholar.google.com/citations?hl=en&user=nNY7GfwAAAAJ\">Google Scholar profile</a>.</p>'), html_3)\n    \n# write the html list to a file\nwriteLines(html_4, \"publication_list.html\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}